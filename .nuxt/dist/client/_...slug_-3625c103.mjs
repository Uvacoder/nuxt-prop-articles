import{_ as x,o as c,c as l,b as a,V as k,aI as y,n as A,Q as p,aF as w,aD as I,a as b,b3 as h,d as u,a4 as v,bB as N,bs as C,b2 as L,bv as B,bA as P,bE as g,bt as R,bF as O}from"./entry-3cc30ced.mjs";import{A as V,a as j}from"./index-59ea95d1.mjs";const D={__name:"Toc",props:["links"],setup(s,{expose:_}){_();const e=r=>{let o=r.map(n=>{let i=[n];if(n.children){let d=e(n.children);i=[n,...d]}return i}).flat(1);return console.log({_links:o}),o},t={flattenLinks:e};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},F=s=>(w("data-v-6f21b509"),s=s(),I(),s),T={class:"toc"},E=F(()=>a("header",{class:"toc-header"},[a("h3",{class:"text-xl font-bold"},"Table of contents")],-1)),q={class:"toc-links"},z=["href"];function H(s,_,e,t,r,o){return c(),l("nav",T,[E,a("ul",q,[(c(!0),l(k,null,y(t.flattenLinks(e.links),n=>(c(),l("li",{key:n.id,class:A(`toc-link _${n.depth}`)},[a("a",{href:`#${n.id}`},p(n.text),9,z)],2))),128))])])}var M=x(D,[["render",H],["__scopeId","data-v-6f21b509"]]);const Q={__name:"PrevNext",props:["prev","next"],setup(s,{expose:_}){_();const e={ArrowLeftIcon:V,ArrowRightIcon:j};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},G={class:"prev-next-cont"},J={class:"link-item prev"},K={class:"link-item next"};function U(s,_,e,t,r,o){const n=N;return c(),l("ul",G,[a("li",J,[e.prev?(c(),b(n,{key:0,to:e.prev._path},{default:h(()=>[u(t.ArrowLeftIcon,{class:"icon stroke"}),a("span",null,p(e.prev.title),1)]),_:1},8,["to"])):v("",!0)]),a("li",K,[e.next?(c(),b(n,{key:0,to:e.next._path},{default:h(()=>[a("span",null,p(e.next.title),1),u(t.ArrowRightIcon,{class:"icon stroke"})]),_:1},8,["to"])):v("",!0)])])}var W=x(Q,[["render",U],["__scopeId","data-v-4d02dcb6"]]);const X={__name:"[...slug]",async setup(s,{expose:_}){_();let e,t;const{path:r}=C(),{data:o}=([e,t]=L(async()=>P(`content-${r}`,async()=>{let m=g().where({_path:r}).findOne(),f=g().only(["_path","title","description"]).sort({date:1}).findSurround(r);return{article:await m,surround:await f}})),e=await e,t(),e),[n,i]=o.value.surround;console.log({data:o,prev:n,next:i}),B({title:o.value.article.title,meta:[{name:"description",content:o.value.article.description},{hid:"og:image",property:"og:image",content:`https://site.com/${o.value.article.img}`}]});const d={path:r,data:o,prev:n,next:i};return Object.defineProperty(d,"__isScriptSetup",{enumerable:!1,value:!0}),d}},S=s=>(w("data-v-8c9ad0a0"),s=s(),I(),s),Y={id:"main",class:"article-main"},Z={key:0,class:"article-header"},tt={class:"img-cont h-72 mb-12"},et=["src","alt"],at={class:"heading"},nt={class:"supporting"},st={class:"article-tags"},ot=S(()=>a("hr",null,null,-1)),ct={class:"article-section"},rt={class:"aside"},_t={class:"article"},lt=S(()=>a("p",null,"No content found.",-1));function it(s,_,e,t,r,o){const n=M,i=O,d=R,m=W;return c(),l("main",Y,[t.data.article?(c(),l("header",Z,[a("div",tt,[a("img",{src:`/${t.data.article.img}`,alt:t.data.article.title,class:"rounded-2xl"},null,8,et)]),a("h1",at,p(t.data.article.title),1),a("p",nt,p(t.data.article.description),1),a("ul",st,[(c(!0),l(k,null,y(t.data.article.tags,(f,$)=>(c(),l("li",{class:"tag",key:$},p(f),1))),128))])])):v("",!0),ot,a("section",ct,[a("aside",rt,[u(n,{links:t.data.article.body.toc.links},null,8,["links"])]),a("article",_t,[u(d,{value:t.data.article},{empty:h(()=>[lt]),default:h(()=>[u(i,{value:t.data.article},null,8,["value"])]),_:1},8,["value"])])]),u(m,{prev:t.prev,next:t.next},null,8,["prev","next"])])}var pt=x(X,[["render",it],["__scopeId","data-v-8c9ad0a0"]]);export{pt as default};
