import{_ as k,o as r,b as _,d as n,F as w,B as y,n as C,D as p,E as b,G as I,c as h,a as i,x as m,H as x,y as B,j as N,I as j,m as A,v as L,J as g,k as P,K as R}from"./entry-7667e031.mjs";const O={__name:"Toc",props:["links"],setup(o,{expose:c}){c();const e=l=>{let s=l.map(a=>{let d=[a];if(a.children){let u=e(a.children);d=[a,...u]}return d}).flat(1);return console.log({_links:s}),s},t={flattenLinks:e};return Object.defineProperty(t,"__isScriptSetup",{enumerable:!1,value:!0}),t}},D=o=>(b("data-v-6f21b509"),o=o(),I(),o),H={class:"toc"},M=D(()=>n("header",{class:"toc-header"},[n("h3",{class:"text-xl font-bold"},"Table of contents")],-1)),T={class:"toc-links"},V=["href"];function E(o,c,e,t,l,s){return r(),_("nav",H,[M,n("ul",T,[(r(!0),_(w,null,y(t.flattenLinks(e.links),a=>(r(),_("li",{key:a.id,class:C(`toc-link _${a.depth}`)},[n("a",{href:`#${a.id}`},p(a.text),9,V)],2))),128))])])}var F=k(O,[["render",E],["__scopeId","data-v-6f21b509"]]);function q(o,c){return r(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M10 19l-7-7m0 0l7-7m-7 7h18"})])}function z(o,c){return r(),h("svg",{xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24","stroke-width":"2",stroke:"currentColor","aria-hidden":"true"},[i("path",{"stroke-linecap":"round","stroke-linejoin":"round",d:"M14 5l7 7m0 0l-7 7m7-7H3"})])}const G={__name:"PrevNext",props:["prev","next"],setup(o,{expose:c}){c();const e={ArrowLeftIcon:q,ArrowRightIcon:z};return Object.defineProperty(e,"__isScriptSetup",{enumerable:!1,value:!0}),e}},J={class:"prev-next-cont"},K={class:"link-item prev"},Q={class:"link-item next"};function U(o,c,e,t,l,s){const a=B;return r(),_("ul",J,[n("li",K,[e.prev?(r(),h(a,{key:0,to:e.prev._path},{default:m(()=>[i(t.ArrowLeftIcon,{class:"icon stroke"}),n("span",null,p(e.prev.title),1)]),_:1},8,["to"])):x("",!0)]),n("li",Q,[e.next?(r(),h(a,{key:0,to:e.next._path},{default:m(()=>[n("span",null,p(e.next.title),1),i(t.ArrowRightIcon,{class:"icon stroke"})]),_:1},8,["to"])):x("",!0)])])}var W=k(G,[["render",U],["__scopeId","data-v-a2ea3416"]]);const X={__name:"[...slug]",async setup(o,{expose:c}){c();let e,t;const{path:l}=N(),{data:s}=([e,t]=j(async()=>L(`content-${l}`,async()=>{let f=g().where({_path:l}).findOne(),v=g().only(["_path","title","description"]).sort({date:1}).findSurround(l);return{article:await f,surround:await v}})),e=await e,t(),e),[a,d]=s.value.surround;console.log({data:s,prev:a,next:d}),A({title:s.value.article.title,meta:[{name:"description",content:s.value.article.description},{hid:"og:image",property:"og:image",content:`https://site.com/${s.value.article.img}`}]});const u={path:l,data:s,prev:a,next:d};return Object.defineProperty(u,"__isScriptSetup",{enumerable:!1,value:!0}),u}},S=o=>(b("data-v-8c9ad0a0"),o=o(),I(),o),Y={id:"main",class:"article-main"},Z={key:0,class:"article-header"},tt={class:"img-cont h-72 mb-12"},et=["src","alt"],nt={class:"heading"},at={class:"supporting"},ot={class:"article-tags"},st=S(()=>n("hr",null,null,-1)),rt={class:"article-section"},ct={class:"aside"},lt={class:"article"},_t=S(()=>n("p",null,"No content found.",-1));function it(o,c,e,t,l,s){const a=F,d=R,u=P,f=W;return r(),_("main",Y,[t.data.article?(r(),_("header",Z,[n("div",tt,[n("img",{src:`/${t.data.article.img}`,alt:t.data.article.title,class:"rounded-2xl"},null,8,et)]),n("h1",nt,p(t.data.article.title),1),n("p",at,p(t.data.article.description),1),n("ul",ot,[(r(!0),_(w,null,y(t.data.article.tags,(v,$)=>(r(),_("li",{class:"tag",key:$},p(v),1))),128))])])):x("",!0),st,n("section",rt,[n("aside",ct,[i(a,{links:t.data.article.body.toc.links},null,8,["links"])]),n("article",lt,[i(u,{value:t.data.article},{empty:m(()=>[_t]),default:m(()=>[i(d,{value:t.data.article},null,8,["value"])]),_:1},8,["value"])])]),i(f,{prev:t.prev,next:t.next},null,8,["prev","next"])])}var ut=k(X,[["render",it],["__scopeId","data-v-8c9ad0a0"]]);export{ut as default};
